<html>
<head>
<script src="http://d3js.org/d3.v3.min.js"></script>
<meta charset="UTF-8">
</head>
<body>

<script type="text/javascript">

var xmlDoc=document.implementation.createDocument("","",null);
xmlDoc.async = false;
// xmlDoc.load("MinorSwing.xml");
xmlDoc.load("songs/Steve Vai - For the love of god.xml");
xmlDoc.onload=MusicParse();

function MusicParse()
{
 
var i = 0;
var j = 0;
var f = [];


var part_list = xmlDoc.getElementsByTagName("part-list");
var score_part = xmlDoc.getElementsByTagName("score-part");

var str_display = "Entre the instrument number to map it on Fret Board : ";
for(i=0; i<score_part.length; i++)
{   var part_id = score_part[i].getAttribute('id');
  var part_name = score_part[i].getElementsByTagName('part-name')[0].textContent;

  var str1 = "   "+i+"."+part_name ;
  str_display = str_display + str1 ;
}

var person = prompt(str_display, "0");
var arr_part = xmlDoc.getElementsByTagName("part");
var arr_step = arr_part[person].getElementsByTagName('step');
var iMax = arr_step.length;
var jMax = 3;

for(i=0;i<iMax;i++) {
 f.push([]) ;
 for (j=0;j<jMax;j++) {
  f[i][j]=0;
 }
}

for (var i = 0; i < iMax; i++) {

// document.write(i+" ");

var pitch = arr_step[i].parentNode ;
var note = pitch.parentNode ;

 var step = arr_step[i].textContent;
 var fret = note.getElementsByTagName('fret')[0].textContent;
 var string = note.getElementsByTagName('string')[0].textContent;
  
 f[i][0]=step;
 f[i][1]=fret;
 f[i][2]=string;

 document.write(f[i][0]+" ");
 document.write(f[i][1]+" ");
 document.write(f[i][2]+" "+"<br>");
}
}


</script>

</body>
</html>
